<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="resources/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
       
   
        <table id="shopping" class="table" cellspacing="0" width="100%">
            <thead>
                <!--table--> 
                <tr>
                    <th>PRODUCT</th> 
                </tr>
            </thead>

            <tbody>
                <tr id="emptyRow">
                    <td><input type="text" id="name" class="form-control" placeholder="Add to shopping list"></td>
                </tr>
                
                <!--button-->
                <div class="buttonload">
                        <button class="btn btn-loading">Add to shopping list! (<p id="items"></p>)</button>
                </div>
            </tbody>
            
        </table>
<script>
    //button
        let button = document.querySelector('.btn-loading')
        button.addEventListener('click',Clicky);
        let spinner = document.createElement('i')
        let booleanValue = false; 
        let x = document.getElementById("emptyRow").rows.length;
        function Clicky(){
            button.insertBefore(spinner, button.childNodes[0]);
            removeClicky();
            let myvar = setTimeout(removeClicky, 500)
            inserShop();
           
        }



    // FUNCTIONS SEPERATE
        
        function removeClicky() {
            spinner.classList.toggle('fa')
            spinner.classList.toggle('fa-spin')
            spinner.classList.toggle('fa-spinner')
        }

        function inserShop() {   
            let inputF = document.getElementById("name");
            console.log(inputF.value);

                if ((inputF.value == "")){
                         alert("Sorry, no product");
                } 
                else {
                    let table = document.getElementById("shopping");
                    let row = table.insertRow(2);
                    let nm = row.insertCell(0);
                    nm.innerHTML = inputF.value;
                    inputF.value = "";
                    document.getElementById("item").innerHTML = x;
                }  
        }  
</script>                       
</body>
</html>